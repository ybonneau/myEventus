[{"/Users/ybonneau/Documents/M2/myEventus/client/src/index.js":"1","/Users/ybonneau/Documents/M2/myEventus/client/src/App.js":"2","/Users/ybonneau/Documents/M2/myEventus/client/src/reportWebVitals.js":"3","/Users/ybonneau/Documents/M2/myEventus/client/src/components/menu/navBar.js":"4","/Users/ybonneau/Documents/M2/myEventus/client/src/components/home/filterContent.js":"5","/Users/ybonneau/Documents/M2/myEventus/client/src/components/home/searchForm.js":"6","/Users/ybonneau/Documents/M2/myEventus/client/src/components/home/cities.js":"7","/Users/ybonneau/Documents/M2/myEventus/client/src/components/home/results.js":"8","/Users/ybonneau/Documents/M2/myEventus/client/src/components/menu/footer.js":"9"},{"size":500,"mtime":1632408884087,"results":"10","hashOfConfig":"11"},{"size":613,"mtime":1638998152024,"results":"12","hashOfConfig":"11"},{"size":362,"mtime":1632408884089,"results":"13","hashOfConfig":"11"},{"size":873,"mtime":1638981001410,"results":"14","hashOfConfig":"11"},{"size":695,"mtime":1638998100359,"results":"15","hashOfConfig":"11"},{"size":3538,"mtime":1639000098645,"results":"16","hashOfConfig":"11"},{"size":671960,"mtime":1638981001406,"results":"17","hashOfConfig":"11"},{"size":5209,"mtime":1639000548926,"results":"18","hashOfConfig":"11"},{"size":517,"mtime":1638981200855,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1aas17",{"filePath":"22","messages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"/Users/ybonneau/Documents/M2/myEventus/client/src/index.js",[],"/Users/ybonneau/Documents/M2/myEventus/client/src/App.js",["42"],"import Navbar from \"./components/menu/navBar\";\nimport FilterContent from \"./components/home/filterContent\";\nimport Result from \"./components/home/results\";\nimport * as React from \"react\";\nimport moment from \"moment\";\n\nexport default function App() {\n  const [date, updateDate] = React.useState();\n  const [city, updateCity] = React.useState();\n  const [distance, updateDistance] = React.useState();\n  return (\n    <div>\n      <Navbar />\n      <FilterContent date={updateDate} city={updateCity} distance={updateDistance}/>\n      <Result date={date} city={city} distance={distance}/>\n      <br />\n    </div>\n  );\n}\n","/Users/ybonneau/Documents/M2/myEventus/client/src/reportWebVitals.js",[],"/Users/ybonneau/Documents/M2/myEventus/client/src/components/menu/navBar.js",[],["43","44"],"/Users/ybonneau/Documents/M2/myEventus/client/src/components/home/filterContent.js",[],"/Users/ybonneau/Documents/M2/myEventus/client/src/components/home/searchForm.js",["45","46"],"import {\n  Grid,\n  Slider,\n  Typography,\n  Autocomplete,\n  TextField,\n  Button,\n} from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\nimport { cities } from \"./cities\";\n\nimport DatePicker from \"@mui/lab/DatePicker\";\nimport LocalizationProvider from \"@mui/lab/LocalizationProvider\";\nimport DateAdapter from \"@mui/lab/AdapterMoment\";\n\nimport * as React from \"react\";\n\nconst marks = [\n  {\n    value: 0,\n    label: \"0km\",\n  },\n  {\n    value: 1000,\n    label: \"1000km\",\n  },\n];\n\nconst PrettoSlider = styled(Slider)({\n  color: \"#FF6A3D\",\n  height: 8,\n  \"& .MuiSlider-track\": {\n    border: \"none\",\n  },\n  \"& .MuiSlider-thumb\": {\n    height: 24,\n    width: 24,\n    backgroundColor: \"#FFF\",\n    border: \"2px solid currentColor\",\n    \"&:focus, &:hover, &.Mui-active, &.Mui-focusVisible\": {\n      boxShadow: \"inherit\",\n    },\n    \"&:before\": {\n      display: \"none\",\n    },\n  },\n  \"& .MuiSlider-valueLabel\": {\n    lineHeight: 1.2,\n    fontSize: 12,\n    background: \"unset\",\n    padding: 0,\n    width: 32,\n    height: 32,\n    borderRadius: \"50% 50% 50% 0\",\n    backgroundColor: \"#FF6A3D\",\n    transformOrigin: \"bottom left\",\n    transform: \"translate(50%, -100%) rotate(-45deg) scale(0)\",\n    \"&:before\": { display: \"none\" },\n    \"&.MuiSlider-valueLabelOpen\": {\n      transform: \"translate(50%, -100%) rotate(-45deg) scale(1)\",\n    },\n    \"& > *\": {\n      transform: \"rotate(45deg)\",\n    },\n  },\n});\n\nexport default function SearchForm({ updateDate, updateCity, updateDistance }) {\n  const [date, setDate] = React.useState(new Date());\n  const [city, setCity] = React.useState(\"\");\n  const [distance, setDistance] = React.useState(10);\n\n  const handleChange = (event, newValue) => {\n    setDistance(newValue);\n    updateDistance(newValue);\n  };\n\n  return (\n    <Grid\n      container\n      alignItems=\"center\"\n      justifyContent=\"center\"\n      rowSpacing={2}\n      columnSpacing={4}\n    >\n      <Grid item xs={6}>\n        <Typography sx={{ color: \"\" }} variant=\"button\" gutterBottom>\n          Lieu\n        </Typography>\n        <Autocomplete\n          sx={{\n            \"& .MuiInputBase-input.MuiAutocomplete-input\": { color: \"#1A2238\" },\n          }}\n          id=\"ville\"\n          value={city}\n          options={cities.map((option) => option.city)}\n          renderInput={(params) => (\n            <TextField {...params} label=\"Entrez une ville\" />\n          )}\n          onChange={(event, newValue) => {\n            setCity(newValue);\n            updateCity(newValue);\n          }}\n        />\n      </Grid>\n      <Grid item xs={6}>\n        <Typography sx={{ color: \"\" }} variant=\"button\" gutterBottom>\n          Distance\n        </Typography>\n        <PrettoSlider\n          aria-label=\"Distance\"\n          defaultValue={10}\n          valueLabelDisplay=\"auto\"\n          step={5}\n          min={0}\n          max={1000}\n          color=\"secondary\"\n          marks={marks}\n          onChange={handleChange}\n        />\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"button\" sx={{ display: \"block\" }} gutterBottom>\n          Date\n        </Typography>\n        <LocalizationProvider dateAdapter={DateAdapter}>\n          <DatePicker\n            inputFormat=\"DD/MM/YYYY\"\n            format=\"DD/MM/YYYY\"\n            label=\"\"\n            value={date}\n            onChange={(newValue) => {\n              setDate(newValue);\n              updateDate(newValue);\n            }}\n            renderInput={(params) => <TextField {...params} />}\n          />\n        </LocalizationProvider>\n      </Grid>\n    </Grid>\n  );\n}\n","/Users/ybonneau/Documents/M2/myEventus/client/src/components/home/cities.js",[],"/Users/ybonneau/Documents/M2/myEventus/client/src/components/home/results.js",["47","48","49","50","51","52","53","54"],"import { Card, Container, Grid } from \"@mui/material\";\nimport { Typography, CircularProgress, Box, Stack } from \"@mui/material\";\nimport { useState, useEffect } from \"react\";\nimport moment from \"moment\";\n\nexport default function Result({ date, city, distance }) {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [data, setData] = useState({});\n  const [copyData, setCopyData] = useState({})\n  const [oldDate, setOldDate] = useState();\n  const [oldCity, setOldChange] = useState();\n  const [oldDistance, setOldDistance] = useState();\n\n  if (oldDistance != distance) {\n    getposition();\n    setOldDistance(distance)\n  }\n\n  if (oldCity != city) {\n    if (city) {\n      console.log(city);\n      fetch(`http://localhost:8080/evenement/getByCity?city=${city}`)\n        .then((res) => res.json())\n        .then((data) => {\n          setData(data);\n          setIsLoaded(true);\n          setOldChange(city);\n          setCopyData(data);\n        });\n    }\n  }\n\n  if (oldDate != moment(date).format(\"YYYY-MM-DD\")) {\n    if (date) {\n      date = moment(date).format(\"YYYY-MM-DD\");\n      fetch(`http://localhost:8080/evenement/getByDate?date=${date}`)\n        .then((res) => res.json())\n        .then((data) => {\n          setData(data);\n          setIsLoaded(true);\n          setCopyData(data);\n          setOldDate(date);\n        });\n    }\n  }\n\n  useEffect(() => {\n    fetch(\"http://localhost:8080/evenement/first\")\n      .then((res) => res.json())\n      .then((data) => {\n        setData(data);\n        setCopyData(data);\n        setIsLoaded(true);\n      });\n  }, []);\n\n  function success(position) {\n    //let tab = useState([]);\n    let tab = [];\n\n    //console.log(\"Latitude is :\", position.coords.latitude);\n    //.log(\"Longitude is :\", position.coords.longitude);\n    var lon1 = position.coords.longitude;\n    var lat1 = position.coords.latitude;\n    tab.push(lat1);\n    tab.push(lon1);\n    //console.log(tab)\n    if (tab.length != 0) {\n      geo2(tab, distance);\n    }\n  }\n\n  function getposition() {\n    navigator.geolocation.getCurrentPosition(function (pos) {\n      success(pos);\n    });\n  }\n\n  function diff_position(lat1, lon1, lat2, lon2) {\n    // Haversine formula\n    var lon1 = lon1 * Math.PI / 180;\n    var lon2 = lon2 * Math.PI / 180;\n    var lat1 = lat1 * Math.PI / 180;\n    var lat2 = lat2 * Math.PI / 180;\n    let dlon = lon2 - lon1;\n    let dlat = lat2 - lat1;\n    let a =\n      Math.pow(Math.sin(dlat / 2), 2) +\n      Math.cos(lat1) * Math.cos(lat2) * Math.pow(Math.sin(dlon / 2), 2);\n\n    let c = 2 * Math.asin(Math.sqrt(a));\n\n    // Radius of earth in kilometers. Use 3956\n    // for miles\n    let r = 6371;\n\n    // calculate the result\n    return c * r;\n  }\n\n  function geo2(tab1, distance) {\n    const donnes = copyData\n    let tab2 = [];\n    for (let i = 0; i < donnes.length; i++) {\n      //let position = donnes[i];\n      //console.log(donnes[i].latlong)\n      var sentence = donnes[i].latlong.split(\",\");\n      //console.log(sentence)\n      let lat1 = tab1[0];\n      let lon1 = tab1[1];\n      let lat2 = sentence[0];\n      let lon2 = sentence[1];\n      let dis1 = diff_position(lat1, lon1, lat2, lon2);\n      //console.log(distance)\n      if (dis1 <= distance) {\n        tab2.push(donnes[i]);\n      }\n      //geo1(donnes[i][i]);\n    }\n    setData(tab2)\n    return tab2;\n  }\n\n  if (!isLoaded) {\n    return (\n      <Box sx={{ display: \"flex\" }}>\n        <CircularProgress />\n      </Box>\n    );\n  } else {\n    //console.log(data);\n    return data.map((event) => {\n      return (\n        <Container sx={{ marginTop: \"20px\" }}>\n          <Card className=\"content\">\n            <Grid container sx={{ padding: \"2vh\" }}>\n              <Grid xs={3} sx={{ margin: \"auto\" }}>\n                <Stack>\n                  {event.titre ? (\n                    <Typography className=\"name\" variant=\"h5\">\n                      {event.titre.length > 14\n                        ? event.titre.substr(0, 15) + \"...\"\n                        : event.titre}\n                    </Typography>\n                  ) : (\n                    <Typography className=\"name\" variant=\"h5\">\n                      Pas de titre\n                    </Typography>\n                  )}\n                  <Typography className=\"place\" variant=\"h7\">\n                    {event.ville} - {event.place}\n                  </Typography>\n                  <Typography variant=\"caption\">\n                    {event.dateDebut} - {event.dateFin}\n                  </Typography>\n                </Stack>\n              </Grid>\n              {event.description ? (\n                <Grid xs={8} sx={{ margin: \"auto\" }}>\n                  <Typography align=\"justify\" variant=\"body1\">\n                    {event.description.length > 300\n                      ? event.description.substr(0, 300) + \"...\"\n                      : event.description}\n                  </Typography>\n                </Grid>\n              ) : (\n                <Grid xs={8} sx={{ margin: \"auto\" }}>\n                  <Typography align=\"justify\" variant=\"body1\">\n                    Pas de description...\n                  </Typography>\n                </Grid>\n              )}\n            </Grid>\n          </Card>\n        </Container>\n      );\n    });\n  }\n}\n","/Users/ybonneau/Documents/M2/myEventus/client/src/components/menu/footer.js",[],{"ruleId":"55","severity":1,"message":"56","line":5,"column":8,"nodeType":"57","messageId":"58","endLine":5,"endColumn":14},{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","replacedBy":"62"},{"ruleId":"55","severity":1,"message":"63","line":7,"column":3,"nodeType":"57","messageId":"58","endLine":7,"endColumn":9},{"ruleId":"55","severity":1,"message":"64","line":71,"column":10,"nodeType":"57","messageId":"58","endLine":71,"endColumn":18},{"ruleId":"65","severity":1,"message":"66","line":14,"column":19,"nodeType":"67","messageId":"68","endLine":14,"endColumn":21},{"ruleId":"65","severity":1,"message":"66","line":19,"column":15,"nodeType":"67","messageId":"68","endLine":19,"endColumn":17},{"ruleId":"65","severity":1,"message":"66","line":33,"column":15,"nodeType":"67","messageId":"68","endLine":33,"endColumn":17},{"ruleId":"65","severity":1,"message":"66","line":68,"column":20,"nodeType":"67","messageId":"68","endLine":68,"endColumn":22},{"ruleId":"69","severity":1,"message":"70","line":81,"column":9,"nodeType":"57","messageId":"71","endLine":81,"endColumn":13},{"ruleId":"69","severity":1,"message":"72","line":82,"column":9,"nodeType":"57","messageId":"71","endLine":82,"endColumn":13},{"ruleId":"69","severity":1,"message":"73","line":83,"column":9,"nodeType":"57","messageId":"71","endLine":83,"endColumn":13},{"ruleId":"69","severity":1,"message":"74","line":84,"column":9,"nodeType":"57","messageId":"71","endLine":84,"endColumn":13},"no-unused-vars","'moment' is defined but never used.","Identifier","unusedVar","no-native-reassign",["75"],"no-negated-in-lhs",["76"],"'Button' is defined but never used.","'distance' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","no-redeclare","'lon1' is already defined.","redeclared","'lon2' is already defined.","'lat1' is already defined.","'lat2' is already defined.","no-global-assign","no-unsafe-negation"]